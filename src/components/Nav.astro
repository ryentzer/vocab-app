---
const user = Astro.locals.user;
---
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
<nav class="bg-white border-b border-gray-200 px-6 py-4">
    <div class="max-w-4xl mx-auto flex items-center justify-between">
        <a href="/" class="text-xl font-bold text-indigo-600 tracking-tight">VocabUp <i class="fa-solid fa-brain"></i></a>

        {user ? (
            <div class="flex items-center gap-6 text-sm font-medium text-gray-600">
                <a href="/" class="hover:text-indigo-600 transition-colors">Dashboard</a>
                <a href="/study" class="hover:text-indigo-600 transition-colors">Study</a>
                <a href="/word-of-the-day" class="hover:text-indigo-600 transition-colors">Word of the Day</a>
                <a href="/words" class="hover:text-indigo-600 transition-colors">Word List</a>
                <a href="/lists" class="hover:text-indigo-600 transition-colors">My Lists</a>
                <a href="/parts-of-speech" class="hover:text-indigo-600 transition-colors">Parts of Speech</a>

                <!-- User dropdown -->
                <div class="relative group">
                    <button class="flex items-center gap-1.5 text-indigo-600 font-semibold focus:outline-none">
                        <i class="fa-solid fa-circle-user"></i>
                        <span>{user.username}</span>
                        <i class="fa-solid fa-chevron-down text-xs opacity-60"></i>
                    </button>
                    <div class="absolute right-0 top-full mt-2 w-40 bg-white rounded-xl shadow-lg border border-gray-100 py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-150 z-50">
                        <form method="POST" action="/api/auth/logout">
                            <button type="submit" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-red-600 transition-colors">
                                <i class="fa-solid fa-right-from-bracket mr-2"></i>Log out
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        ) : (
            <div class="flex items-center gap-3">
                <a href="/login" class="text-sm font-medium text-gray-600 hover:text-indigo-600 transition-colors">Log in</a>
                <a href="/register" class="text-sm font-semibold bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl transition-colors">Sign up</a>
            </div>
        )}
    </div>
</nav>
